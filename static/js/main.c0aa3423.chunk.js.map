{"version":3,"sources":["assets/Logo.png","components/UI/Logo/Logo.js","components/UI/NavigationItems/NavigationItem/NavigationItem.js","components/UI/NavigationItems/NavigationItems.js","components/UI/Header/Header.js","assets/promo.jpg","components/UI/Promo/Promo.js","components/UI/Layout/Layout.js","components/Categories/Category/Category.js","components/Categories/Categories.js","hooks/useArray.js","axios-quotes.js","components/Quotes/Quote/Quote.js","components/Quotes/Quotes.js","containers/QuotesCollection/QuotesCollection.js","components/UI/Spinner/Spinner.js","containers/QuoteForm/QuoteForm.js","hooks/useLoader.js","App.js","reportWebVitals.js","index.js"],"names":["Logo","to","className","src","QuotesLogo","alt","NavigationItem","exact","children","activeStyle","color","NavigationItems","Header","Promo","PromoImage","Layout","props","Category","category","changeLocation","onClick","Categories","categories","map","id","name","useArray","initArr","useState","arr","setArr","add","useCallback","item","clear","removeById","filter","removeByIndex","index","length","splice","axios","create","baseURL","Quote","quote","author","editQuote","deleteQuote","Quotes","quotes","QuotesCollection","setCategories","setQuotes","isMountedRef","useRef","history","useHistory","useEffect","current","getCategories","catch","e","match","params","getQuotes","a","path","get","then","res","keys","Object","data","console","log","key","location","push","quoteId","delete","Spinner","QuoteForm","spinner","loading","setLoading","interceptorReq","useMemo","interceptors","request","use","req","interceptorRes","response","loader","eject","useLoader","inputValues","setInputValues","getQuoteInfo","inputChangeHandler","target","value","onSubmit","preventDefault","put","post","sendQuote","onChange","htmlFor","type","placeholder","rows","App","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c0aa3423.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.30f33956.png\";","import QuotesLogo from '../../../assets/Logo.png';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport \"./Logo.css\";\r\n\r\nconst Logo = () => {\r\n    return (\r\n        <NavLink to=\"/\" className=\"LogoLink\">\r\n            <img src={QuotesLogo} alt=\"логотип сайта\" className=\"LogoLink_img\"/>\r\n        </NavLink>\r\n    )\r\n}\r\n\r\nexport default Logo;","import {NavLink} from \"react-router-dom\";\r\nimport './NavigationItem.css';\r\n\r\nconst  NavigationItem = ({to, exact, children}) => {\r\n    return (\r\n        <li className=\"NavigationItems-Item\">\r\n            <NavLink activeStyle={{ color: 'red' }} className=\"NavigationItems-Link\" to={to} exact={exact}>{children}</NavLink>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default NavigationItem;","import NavigationItem from \"./NavigationItem/NavigationItem\";\r\n\r\nconst NavigationItems = () => {\r\n    return (\r\n        <nav className=\"NavigationItems\">\r\n            <ul className=\"NavigationItems-List\">\r\n                <NavigationItem exact to='/quotes'>Quotes</NavigationItem>\r\n                <NavigationItem to='/quotes/create'>Submit new quote</NavigationItem>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default NavigationItems;","import Logo from \"../Logo/Logo\";\r\nimport NavigationItems from \"../NavigationItems/NavigationItems\";\r\nimport './Header.css';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className=\"Header\">\r\n            <Logo/>\r\n            <NavigationItems/>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/promo.a5825921.jpg\";","import PromoImage from '../../../assets/promo.jpg';\r\nimport './Promo.css';\r\nconst Promo = () => {\r\n    return (\r\n        <div className=\"Promo\">\r\n            <img src={PromoImage} alt=\"Картинка с котиком\" className=\"Promo-Image\"/>\r\n            <div className=\"Promo-Item\">\r\n                <h1 className=\"Promo-Title\">Самый огромный сборник цитат</h1>\r\n                <p className=\"Promo-Text\">Здесь собраны цитаты, со всех просторов интернета. Вы сможете найти цитату на любую тему, начиная спортом и заканчивая научной поэзией.</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Promo;\r\n\r\n","import Header from \"../Header/Header\";\r\nimport Promo from \"../Promo/Promo\";\r\n\r\nconst Layout = props => (\r\n    <>\r\n        <Header/>\r\n        <Promo/>\r\n        <main className=\"Layout-Content\">\r\n            {props.children}\r\n        </main>\r\n    </>\r\n);\r\nexport default Layout;","import './Category.css';\r\n\r\nconst Category = ({category, changeLocation}) => {\r\n    return (\r\n        <li onClick={changeLocation} className=\"Category-Item\">{category}</li>\r\n    )\r\n}\r\n\r\nexport default Category;","import Category from \"./Category/Category\";\r\n\r\nconst Categories = ({categories, changeLocation}) => {\r\n    return (\r\n        <ul className=\"Category\">\r\n            <Category changeLocation={() => {changeLocation('')}} category=\"All\"/>\r\n            {categories.map(category => <Category key={category.id} changeLocation={() => {changeLocation(category.id)}} category={category.name}/>)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Categories;","import {useCallback, useState} from 'react';\r\n\r\nexport const useArray = (initArr) => {\r\n    const [arr, setArr] = useState(initArr);\r\n\r\n    arr.add = useCallback(item => setArr(arr => [...arr], item), []);\r\n    arr.clear = useCallback(() => setArr([]), []);\r\n    arr.removeById = useCallback(id => setArr(arr => arr.filter(item => item && item.id !== id)), []);\r\n    arr.removeByIndex = useCallback(index => setArr(arr => index < arr.length ? arr.splice(index, 1) : arr), []);\r\n\r\n    return [arr, setArr];\r\n}","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n    baseURL: \"https://tsoy-exam-8.firebaseio.com/\"\r\n})\r\n","import \"./Quote.css\";\r\n\r\nconst Quote = ({quote, author,editQuote, deleteQuote}) => {\r\n    return (\r\n        <blockquote className=\"Quote\">\r\n            <p className=\"Quote-Text\">{quote}</p>\r\n            <cite className=\"Quote-Author\">- {author}</cite>\r\n            <span onClick={deleteQuote} className=\"Quote-Delete_Button\">X</span>\r\n            <button onClick={editQuote} className=\"Quote-Button\">Изменить цитату</button>\r\n        </blockquote>\r\n    )\r\n}\r\n\r\nexport default Quote;","import Quote from \"./Quote/Quote\";\r\nimport './Quotes.css';\r\n\r\nconst Quotes = ({quotes, deleteQuote, editQuote}) => {\r\n    return (\r\n        <div className=\"Quotes\">\r\n            {quotes.length > 0 ?\r\n                quotes.map(quote => <Quote editQuote={() => {editQuote(quote.id)}} deleteQuote={() => {deleteQuote(quote.id)}} key={quote.id} quote={quote.quote} author={quote.author}/>)\r\n                :\r\n                <h2>Тут пока что ничего нет.</h2>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default Quotes;","import Categories from \"../../components/Categories/Categories\";\r\nimport {useEffect, useRef} from 'react';\r\nimport {useArray} from \"../../hooks/useArray\";\r\nimport axios from '../../axios-quotes';\r\nimport {useHistory} from \"react-router\";\r\nimport Quotes from \"../../components/Quotes/Quotes\";\r\n\r\nconst QuotesCollection = (props) => {\r\n    const [categories, setCategories] = useArray([]);\r\n    const [quotes, setQuotes] = useArray([]);\r\n\r\n    const isMountedRef = useRef(false);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        isMountedRef.current = true;\r\n        if (categories.length === 0) {\r\n            getCategories().catch(e => e);\r\n        }\r\n        return () => {isMountedRef.current = false};\r\n    }, [isMountedRef])\r\n\r\n    useEffect(() => {\r\n        isMountedRef.current = true;\r\n        if (props.match.params.category)\r\n            getQuotes(props.match.params.category).catch(e => e);\r\n        else\r\n            getQuotes().catch(e => e);\r\n        return () => {isMountedRef.current = false};\r\n    }, [props.match.params.category, isMountedRef])\r\n\r\n    const deleteQuote = (id) => {\r\n        axios.delete('/quotes/' + id + \".json\").then(res => {\r\n            quotes.removeById(id);\r\n        })\r\n    }\r\n    const getQuotes = async category => {\r\n        let path = '';\r\n        if (category) path = `?orderBy=\"category\"&equalTo=\"${category}\"`;\r\n        const quotes = await axios.get(`/quotes.json${path}`).then(res => {\r\n            const keys = Object.keys(res.data);\r\n            console.log(keys)\r\n            return keys.map(key => (\r\n                {\r\n                    author: res.data[key].author,\r\n                    quote: res.data[key].quote,\r\n                    id: key\r\n                }\r\n            ));\r\n        })\r\n        console.log(quotes);\r\n        if(isMountedRef.current) setQuotes(quotes);\r\n    }\r\n    const getCategories = async () => {\r\n        let categories = await axios.get('/categories.json').then(res => { // {name:\"\", id: \"\"}\r\n            const keys = Object.keys(res.data);\r\n            return keys.map(key => ({name: res.data[key], id: key}));\r\n        })\r\n        if (isMountedRef.current) setCategories(categories);\r\n    }\r\n\r\n    const editQuote = (quoteId) => {\r\n        history.push(\"/quotes/\" + quoteId + \"/edit\");\r\n    }\r\n    const changeLocation = (location) => {\r\n        history.push('/quotes/' + location);\r\n    }\r\n    return (\r\n        <>\r\n            <Categories changeLocation={changeLocation} categories={categories}/>\r\n            <Quotes editQuote={editQuote} deleteQuote={deleteQuote} quotes={quotes}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default QuotesCollection;","import './Spinner.css';\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <div className=\"loader\">\r\n                <div className=\"l_main\">\r\n                    <div className=\"l_square\"><span/><span/><span/></div>\r\n                    <div className=\"l_square\"><span/><span/><span/></div>\r\n                    <div className=\"l_square\"><span/><span/><span/></div>\r\n                    <div className=\"l_square\"><span/><span/><span/></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Spinner;","import axios from \"../../axios-quotes\";\r\nimport {useState, useEffect, useRef} from 'react';\r\nimport './QuoteForm.css';\r\nimport {useHistory} from \"react-router\";\r\nimport {useLoader} from \"../../hooks/useLoader\";\r\n\r\nconst QuoteForm = (props) => {\r\n    const history = useHistory();\r\n    const isMountedRef = useRef(false);\r\n    const spinner = useLoader(axios);\r\n    const [inputValues, setInputValues] = useState({\r\n        quote: \"\",\r\n        author: \"\",\r\n        category: \"famous-people\"\r\n    });\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    useEffect(() => {\r\n        isMountedRef.current = true;\r\n        getCategories();\r\n        if (props.match.params.quoteId) getQuoteInfo()\r\n        return () => {isMountedRef.current = false};\r\n    }, [isMountedRef])\r\n\r\n    const getQuoteInfo = () => {\r\n        axios.get(`/quotes/${props.match.params.quoteId}.json`).then(res => {\r\n            const quote = res.data;\r\n            if(isMountedRef.current) setInputValues(quote);\r\n        })\r\n    }\r\n    const editQuote = (e) => {\r\n        e.preventDefault();\r\n        axios.put(`/quotes/${props.match.params.quoteId}.json`, inputValues).then(res => {\r\n            console.log(res);\r\n            history.push('/quotes');\r\n        });\r\n    }\r\n    const sendQuote = (e) => {\r\n        e.preventDefault();\r\n        axios.post('/quotes.json', inputValues).then(res => {\r\n            history.push('/quotes');\r\n        });\r\n    }\r\n    const inputChangeHandler = (e) => {\r\n        setInputValues({...inputValues, [e.target.name]: e.target.value});\r\n    }\r\n    const getCategories = () => {\r\n        axios.get('/categories.json').then(res => {\r\n            const keys = Object.keys(res.data);\r\n            const categories = keys.map(key => ({name: res.data[key], id: key}));\r\n            if(isMountedRef.current)\r\n                setCategories(categories);\r\n        });\r\n    }\r\n    const chooseAction = e => {\r\n        if (props.match.params.quoteId) editQuote(e);\r\n        else sendQuote(e);\r\n    }\r\n    return (\r\n        <form onSubmit={chooseAction}>\r\n            <div className=\"Form\">\r\n                {spinner}\r\n                <div className=\"form-left-decoration\"/>\r\n                <div className=\"form-right-decoration\"/>\r\n                <div className=\"circle\"/>\r\n                <div className=\"form-inner\">\r\n                    <h3>{props.match.params.quoteId ? 'Именить цитату' : 'Создать новую цитату'}</h3>\r\n                    {/*Вот тут была ошибка value должен быть не только у option-ов, но и у самого select-а*/}\r\n                    <select onChange={inputChangeHandler} value={inputValues.category} name=\"category\" id=\"category\">\r\n                        {categories.map(category => <option value={category.id}\r\n                                                            key={category.id}>{category.name}</option>)}\r\n                    </select>\r\n                    <label htmlFor=\"Form-Author\">\r\n                        <input onChange={inputChangeHandler}\r\n                               value={inputValues.author}\r\n                               name=\"author\"\r\n                               type=\"text\"\r\n                               placeholder=\"Введите автора\"\r\n                               id=\"Form-Author\"/>\r\n                    </label>\r\n                    <label htmlFor=\"Form-Quote\">\r\n                        <textarea onChange={inputChangeHandler}\r\n                                  value={inputValues.quote}\r\n                                  name=\"quote\"\r\n                                  id=\"Form-Quote\"\r\n                                  placeholder=\"Введите цитату\"\r\n                                  rows=\"3\"/>\r\n                    </label>\r\n                    <button\r\n                        className=\"Form-Button\">{props.match.params.quoteId ? 'Именить цитату' : 'Сохранить цитату'}</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nexport default QuoteForm;","import {useState, useMemo, useEffect} from 'react';\r\nimport Spinner from \"../components/UI/Spinner/Spinner\";\r\n\r\nexport const useLoader = (axios) => {\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const interceptorReq = useMemo(() => {\r\n        return axios.interceptors.request.use((req) => {\r\n            setLoading(true);\r\n            return req;\r\n        }, (e) => {\r\n            setLoading(false);\r\n            throw e;\r\n        })\r\n    },[loading]);\r\n    const interceptorRes = useMemo(() => {\r\n        return axios.interceptors.response.use((res) => {\r\n            setLoading(false);\r\n            return res;\r\n        }, (e) => {\r\n            setLoading(false);\r\n            throw e;\r\n        })\r\n    }, [loading]);\r\n\r\n    const loader = useMemo(() => {\r\n        if (loading) return <Spinner/>\r\n        else {\r\n            return null;\r\n        }\r\n    }, [loading]) ;\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            axios.interceptors.response.eject(interceptorRes)\r\n            axios.interceptors.request.eject(interceptorReq)\r\n        }\r\n    }, [loading])\r\n\r\n    return loader;\r\n}","import './App.css';\r\nimport Layout from \"./components/UI/Layout/Layout\";\r\nimport {Switch, Route} from \"react-router-dom\";\r\nimport QuotesCollection from \"./containers/QuotesCollection/QuotesCollection\";\r\nimport QuoteForm from \"./containers/QuoteForm/QuoteForm\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Layout>\r\n      <Switch>\r\n          <Route path={['/quotes/create', '/quotes/:quoteId/edit']} exact component={QuoteForm}/>\r\n          <Route path={['/', '/quotes', '/quotes/:category']} exact component={QuotesCollection}/>\r\n      </Switch>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter as Router} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n    <Router>\r\n        <App />\r\n    </Router>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}