(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(31),r=n.n(a),o=(n(39),n(40),n.p+"static/media/Logo.30f33956.png"),s=n(9),u=(n(41),n(0)),i=function(){return Object(u.jsx)(s.b,{to:"/",className:"LogoLink",children:Object(u.jsx)("img",{src:o,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430",className:"LogoLink_img"})})},j=(n(48),function(e){var t=e.to,n=e.exact,c=e.children;return Object(u.jsx)("li",{className:"NavigationItems-Item",children:Object(u.jsx)(s.b,{activeStyle:{color:"red"},className:"NavigationItems-Link",to:t,exact:n,children:c})})}),l=function(){return Object(u.jsx)("nav",{className:"NavigationItems",children:Object(u.jsxs)("ul",{className:"NavigationItems-List",children:[Object(u.jsx)(j,{exact:!0,to:"/quotes",children:"Quotes"}),Object(u.jsx)(j,{to:"/quotes/create",children:"Submit new quote"})]})})},b=(n(49),function(){return Object(u.jsxs)("header",{className:"Header",children:[Object(u.jsx)(i,{}),Object(u.jsx)(l,{})]})}),d=n.p+"static/media/promo.a5825921.jpg",m=(n(50),function(){return Object(u.jsxs)("div",{className:"Promo",children:[Object(u.jsx)("img",{src:d,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0441 \u043a\u043e\u0442\u0438\u043a\u043e\u043c",className:"Promo-Image"}),Object(u.jsxs)("div",{className:"Promo-Item",children:[Object(u.jsx)("h1",{className:"Promo-Title",children:"\u0421\u0430\u043c\u044b\u0439 \u043e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u0441\u0431\u043e\u0440\u043d\u0438\u043a \u0446\u0438\u0442\u0430\u0442"}),Object(u.jsx)("p",{className:"Promo-Text",children:"\u0417\u0434\u0435\u0441\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u044b \u0446\u0438\u0442\u0430\u0442\u044b, \u0441\u043e \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0441\u0442\u043e\u0440\u043e\u0432 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430. \u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u0446\u0438\u0442\u0430\u0442\u0443 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443, \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441\u043f\u043e\u0440\u0442\u043e\u043c \u0438 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u044f \u043d\u0430\u0443\u0447\u043d\u043e\u0439 \u043f\u043e\u044d\u0437\u0438\u0435\u0439."})]})]})}),f=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(m,{}),Object(u.jsx)("main",{className:"Layout-Content",children:e.children})]})},h=n(2),O=n(13),x=n.n(O),p=n(20),g=n(8),v=(n(52),function(e){var t=e.category,n=e.changeLocation;return Object(u.jsx)("li",{onClick:n,className:"Category-Item",children:t})}),q=function(e){var t=e.categories,n=e.changeLocation;return Object(u.jsxs)("ul",{className:"Category",children:[Object(u.jsx)(v,{changeLocation:function(){n("")},category:"All"}),t.map((function(e){return Object(u.jsx)(v,{changeLocation:function(){n(e.id)},category:e.name},e.id)}))]})},N=n(34),y=function(e){var t=Object(c.useState)(e),n=Object(g.a)(t,2),a=n[0],r=n[1];return a.add=Object(c.useCallback)((function(e){return r((function(e){return Object(N.a)(e)}),e)}),[]),a.clear=Object(c.useCallback)((function(){return r([])}),[]),a.removeById=Object(c.useCallback)((function(e){return r((function(t){return t.filter((function(t){return t&&t.id!==e}))}))}),[]),a.removeByIndex=Object(c.useCallback)((function(e){return r((function(t){return e<t.length?t.splice(e,1):t}))}),[]),[a,r]},I=n(33),k=n.n(I).a.create({baseURL:"https://tsoy-exam-8.firebaseio.com/"}),Q=(n(71),function(e){var t=e.quote,n=e.author,c=e.editQuote,a=e.deleteQuote;return Object(u.jsxs)("blockquote",{className:"Quote",children:[Object(u.jsx)("p",{className:"Quote-Text",children:t}),Object(u.jsxs)("cite",{className:"Quote-Author",children:["- ",n]}),Object(u.jsx)("span",{onClick:a,className:"Quote-Delete_Button",children:"X"}),Object(u.jsx)("button",{onClick:c,className:"Quote-Button",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0446\u0438\u0442\u0430\u0442\u0443"})]})}),C=(n(72),function(e){var t=e.quotes,n=e.deleteQuote,c=e.editQuote;return Object(u.jsx)("div",{className:"Quotes",children:t.length>0?t.map((function(e){return Object(u.jsx)(Q,{editQuote:function(){c(e.id)},deleteQuote:function(){n(e.id)},quote:e.quote,author:e.author},e.id)})):Object(u.jsx)("h2",{children:"\u0422\u0443\u0442 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442."})})}),L=function(e){var t=y([]),n=Object(g.a)(t,2),a=n[0],r=n[1],o=y([]),s=Object(g.a)(o,2),i=s[0],j=s[1],l=Object(c.useRef)(!1),b=Object(h.f)();Object(c.useEffect)((function(){return l.current=!0,0===a.length&&m().catch((function(e){return e})),function(){l.current=!1}}),[l]),Object(c.useEffect)((function(){return l.current=!0,e.match.params.category?d(e.match.params.category).catch((function(e){return e})):d().catch((function(e){return e})),function(){l.current=!1}}),[e.match.params.category,l]);var d=function(){var e=Object(p.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",t&&(n='?orderBy="category"&equalTo="'.concat(t,'"')),e.next=4,k.get("/quotes.json".concat(n)).then((function(e){var t=Object.keys(e.data);return console.log(t),t.map((function(t){return{author:e.data[t].author,quote:e.data[t].quote,id:t}}))}));case 4:c=e.sent,console.log(c),l.current&&j(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/categories.json").then((function(e){return Object.keys(e.data).map((function(t){return{name:e.data[t],id:t}}))}));case 2:t=e.sent,l.current&&r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(q,{changeLocation:function(e){b.push("/quotes/"+e)},categories:a}),Object(u.jsx)(C,{editQuote:function(e){b.push("/quotes/"+e+"/edit")},deleteQuote:function(e){k.delete("/quotes/"+e+".json").then((function(t){i.removeById(e)}))},quotes:i})]})},F=n(15),w=n(21),B=(n(73),n(74),function(){return Object(u.jsx)("div",{className:"wrapper",children:Object(u.jsx)("div",{className:"loader",children:Object(u.jsxs)("div",{className:"l_main",children:[Object(u.jsxs)("div",{className:"l_square",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]}),Object(u.jsxs)("div",{className:"l_square",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]}),Object(u.jsxs)("div",{className:"l_square",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]}),Object(u.jsxs)("div",{className:"l_square",children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]})]})})})}),S=function(e){var t=Object(h.f)(),n=Object(c.useRef)(!1),a=function(e){var t=Object(c.useState)(!1),n=Object(g.a)(t,2),a=n[0],r=n[1],o=Object(c.useMemo)((function(){return e.interceptors.request.use((function(e){return r(!0),e}),(function(e){throw r(!1),e}))}),[a]),s=Object(c.useMemo)((function(){return e.interceptors.response.use((function(e){return r(!1),e}),(function(e){throw r(!1),e}))}),[a]),i=Object(c.useMemo)((function(){return a?Object(u.jsx)(B,{}):null}),[a]);return Object(c.useEffect)((function(){return function(){e.interceptors.response.eject(s),e.interceptors.request.eject(o)}}),[a]),i}(k),r=Object(c.useState)({quote:"",author:"",category:"famous-people"}),o=Object(g.a)(r,2),s=o[0],i=o[1],j=Object(c.useState)([]),l=Object(g.a)(j,2),b=l[0],d=l[1];Object(c.useEffect)((function(){return n.current=!0,O(),e.match.params.quoteId&&m(),function(){n.current=!1}}),[n]);var m=function(){k.get("/quotes/".concat(e.match.params.quoteId,".json")).then((function(e){var t=e.data;n.current&&i(t)}))},f=function(e){i(Object(w.a)(Object(w.a)({},s),{},Object(F.a)({},e.target.name,e.target.value)))},O=function(){k.get("/categories.json").then((function(e){var t=Object.keys(e.data).map((function(t){return{name:e.data[t],id:t}}));n.current&&d(t)}))};return Object(u.jsx)("form",{onSubmit:function(n){e.match.params.quoteId?function(n){n.preventDefault(),k.put("/quotes/".concat(e.match.params.quoteId,".json"),s).then((function(e){console.log(e),t.push("/quotes")}))}(n):function(e){e.preventDefault(),k.post("/quotes.json",s).then((function(e){t.push("/quotes")}))}(n)},children:Object(u.jsxs)("div",{className:"Form",children:[a,Object(u.jsx)("div",{className:"form-left-decoration"}),Object(u.jsx)("div",{className:"form-right-decoration"}),Object(u.jsx)("div",{className:"circle"}),Object(u.jsxs)("div",{className:"form-inner",children:[Object(u.jsx)("h3",{children:e.match.params.quoteId?"\u0418\u043c\u0435\u043d\u0438\u0442\u044c \u0446\u0438\u0442\u0430\u0442\u0443":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0446\u0438\u0442\u0430\u0442\u0443"}),Object(u.jsx)("select",{onChange:f,value:s.category,name:"category",id:"category",children:b.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(u.jsx)("label",{htmlFor:"Form-Author",children:Object(u.jsx)("input",{onChange:f,value:s.author,name:"author",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0430",id:"Form-Author"})}),Object(u.jsx)("label",{htmlFor:"Form-Quote",children:Object(u.jsx)("textarea",{onChange:f,value:s.quote,name:"quote",id:"Form-Quote",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0438\u0442\u0430\u0442\u0443",rows:"3"})}),Object(u.jsx)("button",{className:"Form-Button",children:e.match.params.quoteId?"\u0418\u043c\u0435\u043d\u0438\u0442\u044c \u0446\u0438\u0442\u0430\u0442\u0443":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0446\u0438\u0442\u0430\u0442\u0443"})]})]})})};var P=function(){return Object(u.jsx)(f,{children:Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{path:["/quotes/create","/quotes/:quoteId/edit"],exact:!0,component:S}),Object(u.jsx)(h.a,{path:["/","/quotes","/quotes/:category"],exact:!0,component:L})]})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};r.a.render(Object(u.jsx)(s.a,{children:Object(u.jsx)(P,{})}),document.getElementById("root")),_()}},[[75,1,2]]]);
//# sourceMappingURL=main.c0aa3423.chunk.js.map